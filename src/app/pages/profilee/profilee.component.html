<app-header></app-header>

<!-- Profile Section -->
<div class="relative w-[1024px] max-w-[90%] mx-auto mt-8 p-6 bg-green-50 rounded-lg shadow-lg">
    <button
    (click)="editProfile()"
    class="absolute top-4 right-4 text-sm text-green-700 flex items-center hover:underline"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      class="w-5 h-5 mr-1"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M16.862 4.487l2.651 2.651m-1.768-1.768L8.487 14.647a2.25 2.25 0 00-.657 1.05l-.493 1.975 1.975-.493a2.25 2.25 0 001.05-.657l9.257-9.257z"
      />
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M19.5 12.75V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.75A2.25 2.25 0 016.75 4.5h6.75"
      />
    </svg>
    Edit profile
  </button>
  <div class="flex items-center space-x-6">
    <div class="relative flex-shrink-0 flex-grow-0">
        <img
          [src]="userProfile.profileImage"
          alt="Profile"
          class="w-32 h-32 rounded-full object-cover cursor-pointer"
          (click)="fileInput.click()"
        />
        <input
          type="file"
          accept="image/*"
          #fileInput
          (change)="onFileSelected($event)"
          class="hidden"
        />
      </div>      
    <div>
      <h2 class="text-3xl font-bold text-gray-800">{{ userProfile.name }}</h2>
      <p class="text-gray-600 mt-2">{{ userProfile.about }}</p>
    </div>
  </div>
</div>

<!-- Articles Section -->
<div class="w-[1024px] max-w-[90%] mx-auto mt-8">
  <h3 class="text-2xl font-semibold text-gray-800">My articles</h3>
  <div
    *ngFor="let article of articles"
    class="mt-6 bg-green-50 p-4 rounded-lg shadow-lg flex relative"
  >
    <img
      [src]="article.imageUrl"
      alt="Article Thumbnail"
      class="w-32 h-32 rounded-lg object-cover"
    />
    <div class="ml-4 flex-grow">
      <h4 class="text-lg font-bold text-gray-800">{{ article.title }}</h4>
      <p class="text-gray-600 mt-2 line-clamp-2">{{ article.content }}</p>
      <p class="text-sm text-gray-400 mt-4">{{ article.date }}</p>
    </div>
    <div class="absolute bottom-4 right-4 flex space-x-2">
      <button
        (click)="editArticle(article.id)"
        class="px-4 py-2 text-sm text-white bg-green-600 rounded-lg hover:bg-green-700 flex items-center"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-5 h-5 mr-1"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M16.862 4.487l2.651 2.651m-1.768-1.768L8.487 14.647a2.25 2.25 0 00-.657 1.05l-.493 1.975 1.975-.493a2.25 2.25 0 001.05-.657l9.257-9.257z"
          />
        </svg>
        Edit post
      </button>
      <button
        (click)="deleteArticle(article.id)"
        class="px-4 py-2 text-sm text-white bg-red-600 rounded-lg hover:bg-red-700 flex items-center"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-5 h-5 mr-1"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M9.75 9.75L14.25 14.25M14.25 9.75L9.75 14.25M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z"
        />
      </svg>
      Delete
      </button>
    </div>
  </div>
</div>